"use strict";var timeout,burger=document.querySelector(".mobile__burger"),mobileMenu=document.querySelector(".mobile__menu"),handleNav=function(){mobileMenu.classList.toggle("active-nav")},sliderBtn=(burger.addEventListener("click",handleNav),document.querySelector(".slider-item")),sliderText=document.querySelector(".slider-text"),handleSlider=function(){sliderText.classList.toggle("active")},prevBtn=(sliderBtn.addEventListener("click",handleSlider),document.querySelector(".prev")),nextBtn=document.querySelector(".next"),projects=document.querySelectorAll(".project-item"),dots=document.querySelector(".dots"),dotsArr=[],n=0,speed=300,createAllDots=function(){for(var e=0;e<projects.length;e++){var t=document.createElement("div");t.classList.add("dot"),dots.append(t),dotsArr.push(t)}dotsArr[0].classList.add("active-dot")},nextSlide=function(){n<projects.length-1?projects[n].classList.contains("active")&&(projects[n].classList.add("animation-rev"),setTimeout(function(){projects[n].classList.remove("animation-rev"),dotsArr[n].classList.remove("active-dot"),dotsArr[n+1].classList.add("active-dot"),projects[n+1].classList.add("active"),projects[n].classList.remove("active"),projects[n+1].classList.add("animation"),n++},speed)):projects.length},prevSlide=function(){console.log(n),0<n&&projects[n].classList.contains("active")&&(projects[n].classList.add("animation-rev"),setTimeout(function(){projects[n].classList.remove("animation-rev"),projects[n].classList.remove("active"),projects[n-1].classList.add("active"),dotsArr[n].classList.remove("active-dot"),dotsArr[n-1].classList.add("active-dot"),projects[n-1].classList.add("animation"),n--},speed))},sendBtn=document.querySelector(".send-btn"),sendMail=function(){var e=document.querySelector(".title").value,t=document.querySelector(".message").value,n=document.querySelector(".name").value;window.location.href="mailto:patryk.kawiak@icloud.com?subject=".concat(e,"&body=").concat(t,", \n\t").concat(n)},revalSection=document.querySelectorAll(".reval-section"),handleFirstReval=function(){var e=document.querySelector(".reval-section");e.offsetTop-window.scrollY<window.innerHeight-150&&(e.classList.add("reval"),setTimeout(writingAnimation,500))},handleSecondReval=function(){setTimeout(function(){revalSection[1].classList.add("reval")},1e3)},handleReval=function(){revalSection.forEach(function(e){e.offsetTop-window.scrollY<window.innerHeight-150&&e.classList.add("reval")})},text=document.querySelector(".typing-text"),typingBar=document.querySelector(".typing-bar"),inputValue="Front End Developer",index=1,aniSpeed=90,writingAnimation=function e(){text.innerHTML=inputValue.slice(0,index),++index>inputValue.length||(timeout=setTimeout(e,aniSpeed))},barAnimation=function(){typingBar.style.opacity=0,setTimeout(function(){typingBar.style.opacity=1},500)},animatedBtn=document.querySelectorAll(".animated-btn"),effect=function(e){var t=e.target.getBoundingClientRect(),n=e.target.offsetWidth-(e.clientX-t.left),t=(console.log(n),e.target.offsetHeight-(e.clientY-t.top));e.target.style.setProperty("--mouse-x","".concat(n,"px")),e.target.style.setProperty("--mouse-y","".concat(t,"px"))},image=(animatedBtn.forEach(function(e){return e.addEventListener("mousemove",effect)}),document.querySelector(".image")),rotatingImg=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),t=e.offsetX,o=e.offsetY;var t,n=e.target.offsetWidth/2,o=(e.target.offsetHeight/2-o)/10;e.target.style.setProperty("--transform-y","".concat(Math.floor((n-t)/10),"deg")),e.target.style.setProperty("--transform-x","".concat(Math.floor(o),"deg"))};image.addEventListener("mousemove",rotatingImg),image.addEventListener("mouseout",function(e){console.log(e.target),e.target.classList.add("reset-pos")}),setInterval(barAnimation,1e3),window.addEventListener("scroll",handleReval),window.addEventListener("DOMContentLoaded",handleFirstReval),window.addEventListener("DOMContentLoaded",handleSecondReval),sendBtn.addEventListener("click",sendMail),document.addEventListener("DOMContentLoaded",createAllDots),nextBtn.addEventListener("click",nextSlide),prevBtn.addEventListener("click",prevSlide);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic2V0VGltZW91dCIsImJ1cmdlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1vYmlsZU1lbnUiLCJoYW5kbGVOYXYiLCJ0b2dnbGUiLCJzbGlkZXJCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwic2xpZGVyVGV4dCIsImNsYXNzTGlzdCIsInByb2plY3RzIiwiaGFuZGxlU2xpZGVyIiwicXVlcnlTZWxlY3RvckFsbCIsImRvdHNBcnIiLCJzcGVlZCIsImNyZWF0ZUFsbERvdHMiLCJuZXdEb3QiLCJkb3RzIiwiYXBwZW5kIiwiaXRlbSIsImxlbmd0aCIsImNyZWF0ZUVsZW1lbnQiLCJuZXh0U2xpZGUiLCJhZGQiLCJuIiwicmVtb3ZlIiwicHJldlNsaWRlIiwiY29uc29sZSIsImxvZyIsInNlbmRCdG4iLCJyZXZhbFNlY3Rpb24iLCJoYW5kbGVGaXJzdFJldmFsIiwidmFsdWUiLCJvZmZzZXRUb3AiLCJzY3JvbGxZIiwid2luZG93IiwidGl0bGUiLCJjb25jYXQiLCJtZXNzYWdlIiwibmFtZSIsImZvckVhY2giLCJpbm5lckhlaWdodCIsImhhbmRsZVNlY29uZFJldmFsIiwidGV4dCIsImlucHV0VmFsdWUiLCJzZWMiLCJpbmRleCIsImFuaVNwZWVkIiwiYmFyQW5pbWF0aW9uIiwidHlwaW5nQmFyIiwid3JpdGluZ0FuaW1hdGlvbiIsImlubmVySFRNTCIsInNsaWNlIiwiZWZmZWN0IiwidGltZW91dCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInkiLCJvZmZzZXRIZWlnaHQiLCJzdHlsZSIsInNldFByb3BlcnR5Iiwib3BhY2l0eSIsImFuaW1hdGVkQnRuIiwiaW1hZ2UiLCJyb3RhdGluZ0ltZyIsInRhcmdldCIsImUiLCJjbGllbnRYIiwicmVjdCIsImxlZnQiLCJ4IiwiY2xpZW50WSIsInRvcCIsIm9mZnNldFgiLCJvZmZzZXRZIiwibWlkZGxlWCIsImJ0biIsImNvbnRhaW5zIiwib2Zmc2V0V2lkdGgiLCJmaW5hbFkiLCJNYXRoIiwiZmxvb3IiLCJzZXRJbnRlcnZhbCIsImhhbmRsZVJldmFsIiwic2VuZE1haWwiLCJuZXh0QnRuIiwicHJldkJ0biJdLCJtYXBwaW5ncyI6ImFBQUEsSUF1SUNBLFFBdklEQyxPQUFBQyxTQUFBQyxjQUFBLGlCQUFBLEVBR01DLFdBQWFGLFNBQVNDLGNBQWMsZUFBZSxFQUFuREMsVUFBYUYsV0FFbkJFLFdBQU1DLFVBQVlDLE9BQVpELFlBQWtCLENBRXhCLEVBTU1FLFdBSk5OLE9BQU9PLGlCQUFpQixRQUFTSCxTQUFTLEVBSXhCSCxTQUFTQyxjQUFjLGNBQWUsR0FDbERNLFdBQWFQLFNBQVNDLGNBQWMsY0FBZSxFQUd4RE0sYUFBV0MsV0FDWEQsV0FBQUMsVUFBQUosT0FBQSxRQUFBLENBRURDLEVBUU1JLFNBTk5KLFVBQUFDLGlCQUFBLFFBQUFJLFlBQUEsRUFNaUJWLFNBQVNXLGNBQUFBLE9BQWlCLEdBRXJDQyxRQUFZWixTQUFBQyxjQUFBLE9BQUEsRUFHZFksU0FBV2IsU0FBQVcsaUJBQUEsZUFBQSxFQUVURyxLQUFBQSxTQUFnQmIsY0FBaEJhLE9BQWEsRUFDbEJGLFFBQWEsR0FFWkcsRUFBQUEsRUFDQUMsTUFBS0MsSUFFTkgsY0FBQSxXQUxBLElBTUFGLElBQVFNLEVBQUdWLEVBQUFBLEVBQWNDLFNBQUFVLE9BQWFELENBQUEsR0FBQSxDQUN0QyxJQUFBSCxFQUFBZixTQUFBb0IsY0FBQSxLQUFBLEVBRURMLEVBQU1NLFVBQVlDLElBQUEsS0FBWkQsRUFDTEwsS0FBS0MsT0FBR1IsQ0FBU1UsRUFOaEJQLFFBT0lILEtBQUFBLENBQVlELENBTmpCLENBQ0FJLFFBT0VkLEdBQUFBLFVBQVd3QixJQUFBLFlBQU0sQ0FOcEIsRUFFTUQsVUFPTyxXQU5SRSxFQU9EZCxTQUFVVSxPQUFNWCxFQU5kQyxTQU9GQSxHQUFVRCxVQUFFQSxTQUFpQixRQUFRLElBTnRDQyxTQU9DQSxHQUFBQSxVQUFnQkQsSUFBQUEsZUFBYyxFQU4vQlYsV0FPSSxXQU5IVyxTQU9FSSxHQUFNTCxV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QUFvQndCLGdCQUFnQixFQUM1REksT0FBTzVCLGlCQUFpQixtQkFBb0JtQyxpQkFBaUIsRUFFN0RiLFFBQVF0QixpQkFBaUIsUUFBUzRFLFFBQVEsRUFDMUNsRixTQUFTTSxpQkFBaUIsbUJBQW9CUSxhQUFhLEVBQzNEcUUsUUFBUTdFLGlCQUFpQixRQUFTZSxTQUFTLEVBQzNDK0QsUUFBUTlFLGlCQUFpQixRQUFTbUIsU0FBUyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hdlxuXG5jb25zdCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlX19idXJnZXInKTtcbmNvbnN0IG1vYmlsZU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlX19tZW51Jyk7XG5cbmNvbnN0IGhhbmRsZU5hdiA9ICgpID0+IHtcblx0bW9iaWxlTWVudS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUtbmF2Jyk7XG59O1xuXG5idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXYpO1xuXG4vLyBzbGlkZXJcblxuY29uc3Qgc2xpZGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlci1pdGVtJyk7XG5jb25zdCBzbGlkZXJUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlci10ZXh0Jyk7XG5cbmNvbnN0IGhhbmRsZVNsaWRlciA9ICgpID0+IHtcblx0c2xpZGVyVGV4dC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbn07XG5cbnNsaWRlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVNsaWRlcik7XG5cbi8vIGNhcm91c2VsXG5cbmNvbnN0IHByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJldicpO1xuXG5jb25zdCBuZXh0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5leHQnKTtcblxuY29uc3QgcHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdC1pdGVtJyk7XG5jb25zdCBkb3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRvdHMnKTtcbmNvbnN0IGRvdHNBcnIgPSBbXTtcblxubGV0IG4gPSAwO1xubGV0IHNwZWVkID0gMzAwO1xuXG5jb25zdCBjcmVhdGVBbGxEb3RzID0gKCkgPT4ge1xuXHRmb3IgKGxldCBpdGVtID0gMDsgaXRlbSA8IHByb2plY3RzLmxlbmd0aDsgaXRlbSsrKSB7XG5cdFx0Y29uc3QgbmV3RG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0bmV3RG90LmNsYXNzTGlzdC5hZGQoJ2RvdCcpO1xuXHRcdGRvdHMuYXBwZW5kKG5ld0RvdCk7XG5cdFx0ZG90c0Fyci5wdXNoKG5ld0RvdCk7XG5cdH1cblx0ZG90c0FyclswXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtZG90Jyk7XG59O1xuXG5jb25zdCBuZXh0U2xpZGUgPSAoKSA9PiB7XG5cdGlmIChuIDwgcHJvamVjdHMubGVuZ3RoIC0gMSkge1xuXHRcdGlmIChwcm9qZWN0c1tuXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRwcm9qZWN0c1tuXS5jbGFzc0xpc3QuYWRkKCdhbmltYXRpb24tcmV2Jyk7XG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0cHJvamVjdHNbbl0uY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0aW9uLXJldicpO1xuXHRcdFx0XHRkb3RzQXJyW25dLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1kb3QnKTtcblx0XHRcdFx0ZG90c0FycltuICsgMV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlLWRvdCcpO1xuXHRcdFx0XHRwcm9qZWN0c1tuICsgMV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cdFx0XHRcdHByb2plY3RzW25dLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdFx0XHRwcm9qZWN0c1tuICsgMV0uY2xhc3NMaXN0LmFkZCgnYW5pbWF0aW9uJyk7XG5cdFx0XHRcdG4rKztcblx0XHRcdH0sIHNwZWVkKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAobiA9PSBwcm9qZWN0cy5sZW5ndGggLSAxKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG59O1xuY29uc3QgcHJldlNsaWRlID0gKCkgPT4ge1xuXHRjb25zb2xlLmxvZyhuKTtcblx0aWYgKG4gPiAwKSB7XG5cdFx0aWYgKHByb2plY3RzW25dLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRcdHByb2plY3RzW25dLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGlvbi1yZXYnKTtcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRwcm9qZWN0c1tuXS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRpb24tcmV2Jyk7XG5cdFx0XHRcdHByb2plY3RzW25dLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdFx0XHRwcm9qZWN0c1tuIC0gMV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cdFx0XHRcdGRvdHNBcnJbbl0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWRvdCcpO1xuXHRcdFx0XHRkb3RzQXJyW24gLSAxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtZG90Jyk7XG5cdFx0XHRcdHByb2plY3RzW24gLSAxXS5jbGFzc0xpc3QuYWRkKCdhbmltYXRpb24nKTtcblx0XHRcdFx0bi0tO1xuXHRcdFx0fSwgc3BlZWQpO1xuXHRcdH1cblx0fSBlbHNlIGlmIChuID09IDApIHtcblx0XHRyZXR1cm47XG5cdH1cbn07XG5cbi8vIG1haWxcbmNvbnN0IHNlbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VuZC1idG4nKTtcblxuY29uc3Qgc2VuZE1haWwgPSAoKSA9PiB7XG5cdGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpdGxlJykudmFsdWU7XG5cdGNvbnN0IG1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVzc2FnZScpLnZhbHVlO1xuXHRjb25zdCBuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hbWUnKS52YWx1ZTtcblx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBgbWFpbHRvOnBhdHJ5ay5rYXdpYWtAaWNsb3VkLmNvbT9zdWJqZWN0PSR7dGl0bGV9JmJvZHk9JHttZXNzYWdlfSwgXG5cdCR7bmFtZX1gO1xufTtcblxuLy8gc2Nyb2xsXG5jb25zdCByZXZhbFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmV2YWwtc2VjdGlvbicpO1xuXG5jb25zdCBoYW5kbGVGaXJzdFJldmFsID0gKCkgPT4ge1xuXHRjb25zdCByZXZhbFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmV2YWwtc2VjdGlvbicpO1xuXG5cdGlmIChyZXZhbFNlY3Rpb24ub2Zmc2V0VG9wIC0gd2luZG93LnNjcm9sbFkgPCB3aW5kb3cuaW5uZXJIZWlnaHQgLSAxNTApIHtcblx0XHRyZXZhbFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgncmV2YWwnKTtcblx0XHRzZXRUaW1lb3V0KHdyaXRpbmdBbmltYXRpb24sIDUwMCk7XG5cdH1cbn07XG5jb25zdCBoYW5kbGVTZWNvbmRSZXZhbCA9ICgpID0+IHtcblx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0cmV2YWxTZWN0aW9uWzFdLmNsYXNzTGlzdC5hZGQoJ3JldmFsJyk7XG5cdH0sIDEwMDApO1xufTtcbmNvbnN0IGhhbmRsZVJldmFsID0gKCkgPT4ge1xuXHRyZXZhbFNlY3Rpb24uZm9yRWFjaCgoc2VjKSA9PiB7XG5cdFx0aWYgKHNlYy5vZmZzZXRUb3AgLSB3aW5kb3cuc2Nyb2xsWSA8IHdpbmRvdy5pbm5lckhlaWdodCAtIDE1MCkge1xuXHRcdFx0c2VjLmNsYXNzTGlzdC5hZGQoJ3JldmFsJyk7XG5cdFx0fVxuXHR9KTtcbn07XG5cbi8vIHR5cGluZ1xuY29uc3QgdGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50eXBpbmctdGV4dCcpO1xuY29uc3QgdHlwaW5nQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnR5cGluZy1iYXInKTtcbmxldCBpbnB1dFZhbHVlID0gJ0Zyb250IEVuZCBEZXZlbG9wZXInO1xubGV0IHRpbWVvdXQ7XG5sZXQgaW5kZXggPSAxO1xubGV0IGFuaVNwZWVkID0gOTA7XG5cbmNvbnN0IHdyaXRpbmdBbmltYXRpb24gPSAoKSA9PiB7XG5cdHRleHQuaW5uZXJIVE1MID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBpbmRleCk7XG5cdGluZGV4Kys7XG5cdGlmIChpbmRleCA+IGlucHV0VmFsdWUubGVuZ3RoKSByZXR1cm47XG5cdHRpbWVvdXQgPSBzZXRUaW1lb3V0KHdyaXRpbmdBbmltYXRpb24sIGFuaVNwZWVkKTtcbn07XG5cbmNvbnN0IGJhckFuaW1hdGlvbiA9ICgpID0+IHtcblx0dHlwaW5nQmFyLnN0eWxlLm9wYWNpdHkgPSAwO1xuXHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHR0eXBpbmdCYXIuc3R5bGUub3BhY2l0eSA9IDE7XG5cdH0sIDUwMCk7XG59O1xuXG4vLyBidXR0b24gZWZmXG5jb25zdCBhbmltYXRlZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRlZC1idG4nKTtcblxuY29uc3QgZWZmZWN0ID0gKGUpID0+IHtcblx0Y29uc3QgcmVjdCA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdGNvbnN0IHggPSBlLnRhcmdldC5vZmZzZXRXaWR0aCAtIChlLmNsaWVudFggLSByZWN0LmxlZnQpO1xuXHRjb25zb2xlLmxvZyh4KTtcblx0Y29uc3QgeSA9IGUudGFyZ2V0Lm9mZnNldEhlaWdodCAtIChlLmNsaWVudFkgLSByZWN0LnRvcCk7XG5cblx0ZS50YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkoJy0tbW91c2UteCcsIGAke3h9cHhgKTtcblx0ZS50YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkoJy0tbW91c2UteScsIGAke3l9cHhgKTtcbn07XG5cbmFuaW1hdGVkQnRuLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGVmZmVjdCkpO1xuXG4vLyBhbmltYXRlZCBpbWdcblxuY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW1hZ2UnKTtcblxuY29uc3Qgcm90YXRpbmdJbWcgPSAoZSkgPT4ge1xuXHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNldC1wb3MnKSkge1xuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2V0LXBvcycpO1xuXHR9XG5cblx0bGV0IHg7XG5cdGxldCB5O1xuXHR4ID0gZS5vZmZzZXRYO1xuXHR5ID0gZS5vZmZzZXRZO1xuXG5cdGNvbnN0IG1pZGRsZVggPSBlLnRhcmdldC5vZmZzZXRXaWR0aCAvIDI7XG5cdGNvbnN0IG1pZGRsZVkgPSBlLnRhcmdldC5vZmZzZXRIZWlnaHQgLyAyO1xuXG5cdGNvbnN0IGZpbmFsWCA9IChtaWRkbGVYIC0geCkgLyAxMDtcblx0Y29uc3QgZmluYWxZID0gKG1pZGRsZVkgLSB5KSAvIDEwO1xuXG5cdGUudGFyZ2V0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS15JywgYCR7TWF0aC5mbG9vcihmaW5hbFgpfWRlZ2ApO1xuXHRlLnRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10cmFuc2Zvcm0teCcsIGAke01hdGguZmxvb3IoZmluYWxZKX1kZWdgKTtcbn07XG5cblxuaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgcm90YXRpbmdJbWcpXG5pbWFnZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIChlKSA9PiB7XG5cdGNvbnNvbGUubG9nKGUudGFyZ2V0KTtcblx0ZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgncmVzZXQtcG9zJyk7XG5cblxufSlcblxuc2V0SW50ZXJ2YWwoYmFyQW5pbWF0aW9uLCAxMDAwKTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVJldmFsKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaGFuZGxlRmlyc3RSZXZhbCk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGhhbmRsZVNlY29uZFJldmFsKTtcblxuc2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbmRNYWlsKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjcmVhdGVBbGxEb3RzKTtcbm5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBuZXh0U2xpZGUpO1xucHJldkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHByZXZTbGlkZSk7XG4iXX0=
