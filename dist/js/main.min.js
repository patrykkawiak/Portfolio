"use strict";var timeout,burger=document.querySelector(".mobile__burger"),mobileMenu=document.querySelector(".mobile__menu"),navLinks=document.querySelectorAll(".mobile__menu--link"),handleNav=function(){mobileMenu.classList.toggle("active-nav"),burger.classList.toggle("active-burger")},handleCloseNav=function(){mobileMenu.classList.remove("active-nav"),burger.classList.remove("active-burger")},sliderBtn=(navLinks.forEach(function(e){return e.addEventListener("click",handleCloseNav)}),burger.addEventListener("click",handleNav),document.querySelector(".slider-item")),sliderText=document.querySelector(".slider-text"),handleSlider=function(){sliderText.classList.toggle("active")},prevBtn=(sliderBtn.addEventListener("click",handleSlider),document.querySelector(".prev")),nextBtn=document.querySelector(".next"),projects=document.querySelectorAll(".project-item"),dots=document.querySelector(".dots"),dotsArr=[],n=0,speed=300,createAllDots=function(){for(var e=0;e<projects.length;e++){var t=document.createElement("div");t.classList.add("dot"),dots.append(t),dotsArr.push(t)}dotsArr[0].classList.add("active-dot")},nextSlide=function(){n<projects.length-1?projects[n].classList.contains("active")&&(projects[n].classList.add("animation-rev"),setTimeout(function(){projects[n].classList.remove("animation-rev"),dotsArr[n].classList.remove("active-dot"),dotsArr[n+1].classList.add("active-dot"),projects[n+1].classList.add("active"),projects[n].classList.remove("active"),projects[n+1].classList.add("animation"),n++},speed)):projects.length},prevSlide=function(){console.log(n),0<n&&projects[n].classList.contains("active")&&(projects[n].classList.add("animation-rev"),setTimeout(function(){projects[n].classList.remove("animation-rev"),projects[n].classList.remove("active"),projects[n-1].classList.add("active"),dotsArr[n].classList.remove("active-dot"),dotsArr[n-1].classList.add("active-dot"),projects[n-1].classList.add("animation"),n--},speed))},sendBtn=document.querySelector(".send-btn"),sendMail=function(){var e=document.querySelector(".title").value,t=document.querySelector(".message").value,n=document.querySelector(".name").value;window.location.href="mailto:patryk.kawiak@icloud.com?subject=".concat(e,"&body=").concat(t,", Pozdrawiam \n\t").concat(n)},revalSection=document.querySelectorAll(".reval-section"),handleFirstReval=function(){var e=document.querySelector(".reval-section");e.offsetTop-window.scrollY<window.innerHeight-150&&(e.classList.add("reval"),setTimeout(writingAnimation,500))},handleSecondReval=function(){setTimeout(function(){revalSection[1].classList.add("reval")},1e3)},handleReval=function(){revalSection.forEach(function(e){e.offsetTop-window.scrollY<window.innerHeight-150&&e.classList.add("reval")})},text=document.querySelector(".typing-text"),typingBar=document.querySelector(".typing-bar"),inputValue="Front End Developer",index=1,aniSpeed=90,writingAnimation=function e(){text.innerHTML=inputValue.slice(0,index),++index>inputValue.length||(timeout=setTimeout(e,aniSpeed))},barAnimation=function(){typingBar.style.opacity=0,setTimeout(function(){typingBar.style.opacity=1},500)},animatedBtn=document.querySelectorAll(".animated-btn"),effect=function(e){var t=e.target.getBoundingClientRect(),n=e.target.offsetWidth-(e.clientX-t.left),t=(console.log(n),e.target.offsetHeight-(e.clientY-t.top));e.target.style.setProperty("--mouse-x","".concat(n,"px")),e.target.style.setProperty("--mouse-y","".concat(t,"px"))},image=(animatedBtn.forEach(function(e){return e.addEventListener("mousemove",effect)}),document.querySelector(".image")),rotatingImg=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos"),t=e.offsetX,o=e.offsetY;var t,n=e.target.offsetWidth/2,o=(e.target.offsetHeight/2-o)/10;e.target.style.setProperty("--transform-y","".concat(Math.floor((n-t)/10),"deg")),e.target.style.setProperty("--transform-x","".concat(Math.floor(o),"deg"))};image.addEventListener("mousemove",rotatingImg),image.addEventListener("mouseout",function(e){e.target.classList.add("reset-pos"),e.target.classList.remove("add-pos")}),setInterval(barAnimation,1e3),window.addEventListener("scroll",handleReval),window.addEventListener("DOMContentLoaded",handleFirstReval),window.addEventListener("DOMContentLoaded",handleSecondReval),sendBtn.addEventListener("click",sendMail),document.addEventListener("DOMContentLoaded",createAllDots),nextBtn.addEventListener("click",nextSlide),prevBtn.addEventListener("click",prevSlide);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidHlwaW5nQmFyIiwiYnVyZ2VyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibW9iaWxlTWVudSIsIm5hdkxpbmtzIiwiaGFuZGxlTmF2IiwidG9nZ2xlIiwiY2xhc3NMaXN0IiwiaGFuZGxlQ2xvc2VOYXYiLCJyZW1vdmUiLCJzbGlkZXJCdG4iLCJsaW5rIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZVNsaWRlciIsInNsaWRlclRleHQiLCJuZXh0QnRuIiwiZG90cyIsInByb2plY3RzIiwicXVlcnlTZWxlY3RvckFsbCIsInNwZWVkIiwiY3JlYXRlQWxsRG90cyIsIm4iLCJuZXdEb3QiLCJkb3RzQXJyIiwiaXRlbSIsImxlbmd0aCIsImNyZWF0ZUVsZW1lbnQiLCJhZGQiLCJuZXh0U2xpZGUiLCJzZXRUaW1lb3V0IiwicHJldlNsaWRlIiwiY29uc29sZSIsImNvbnRhaW5zIiwic2VuZEJ0biIsInNlbmRNYWlsIiwicmV2YWxTZWN0aW9uIiwidmFsdWUiLCJoYW5kbGVGaXJzdFJldmFsIiwid2luZG93Iiwib2Zmc2V0VG9wIiwidGl0bGUiLCJjb25jYXQiLCJtZXNzYWdlIiwibmFtZSIsImhhbmRsZVNlY29uZFJldmFsIiwiaGFuZGxlUmV2YWwiLCJpbm5lckhlaWdodCIsImZvckVhY2giLCJzY3JvbGxZIiwic2VjIiwidGltZW91dCIsImluZGV4Iiwid3JpdGluZ0FuaW1hdGlvbiIsImJhckFuaW1hdGlvbiIsInN0eWxlIiwidGV4dCIsImlubmVySFRNTCIsImlucHV0VmFsdWUiLCJzbGljZSIsImFuaW1hdGVkQnRuIiwiZWZmZWN0IiwiYW5pU3BlZWQiLCJ0YXJnZXQiLCJvZmZzZXRIZWlnaHQiLCJlIiwic2V0UHJvcGVydHkiLCJpbWFnZSIsIngiLCJjbGllbnRYIiwicmVjdCIsImxlZnQiLCJ5IiwiY2xpZW50WSIsInRvcCIsIm1pZGRsZVgiLCJvZmZzZXRXaWR0aCIsInJvdGF0aW5nSW1nIiwib2Zmc2V0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WixNQUFNdEQsaUJBQWlCLFlBQWFnRSxXQUFXLEVBQy9DVixNQUFNdEQsaUJBQWlCLFdBQVksU0FBQ29ELEdBQ25DQSxFQUFFRixPQUFPdkQsVUFBVW9CLElBQUksV0FBVyxFQUNoQ3FDLEVBQUVGLE9BQU92RCxVQUFVRSxPQUFPLFNBQVMsQ0FDdEMsQ0FBQyxFQUVEd0UsWUFBWTVCLGFBQWMsR0FBSSxFQUU5QmYsT0FBTzFCLGlCQUFpQixTQUFVaUMsV0FBVyxFQUM3Q1AsT0FBTzFCLGlCQUFpQixtQkFBb0J5QixnQkFBZ0IsRUFDNURDLE9BQU8xQixpQkFBaUIsbUJBQW9CZ0MsaUJBQWlCLEVBRTdEWCxRQUFRckIsaUJBQWlCLFFBQVNzQixRQUFRLEVBQzFDakMsU0FBU1csaUJBQWlCLG1CQUFvQlEsYUFBYSxFQUMzREwsUUFBUUgsaUJBQWlCLFFBQVNnQixTQUFTLEVBQzNDc0QsUUFBUXRFLGlCQUFpQixRQUFTa0IsU0FBUyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hdlxuXG5jb25zdCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlX19idXJnZXInKTtcbmNvbnN0IG1vYmlsZU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlX19tZW51Jyk7XG5jb25zdCBuYXZMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2JpbGVfX21lbnUtLWxpbmsnKTtcblxuY29uc3QgaGFuZGxlTmF2ID0gKCkgPT4ge1xuXHRtb2JpbGVNZW51LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS1uYXYnKTtcblx0YnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS1idXJnZXInKTtcbn07XG5cbmNvbnN0IGhhbmRsZUNsb3NlTmF2ID0gKCkgPT4ge1xuXHRtb2JpbGVNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1uYXYnKTtcblx0YnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1idXJnZXInKTtcbn1cblxubmF2TGlua3MuZm9yRWFjaChsaW5rID0+IGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbG9zZU5hdikpXG5idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXYpO1xuXG4vLyBzbGlkZXJcblxuY29uc3Qgc2xpZGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlci1pdGVtJyk7XG5jb25zdCBzbGlkZXJUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlci10ZXh0Jyk7XG5cbmNvbnN0IGhhbmRsZVNsaWRlciA9ICgpID0+IHtcblx0c2xpZGVyVGV4dC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbn07XG5cbnNsaWRlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVNsaWRlcik7XG5cbi8vIGNhcm91c2VsXG5cbmNvbnN0IHByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJldicpO1xuXG5jb25zdCBuZXh0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5leHQnKTtcblxuY29uc3QgcHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdC1pdGVtJyk7XG5jb25zdCBkb3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRvdHMnKTtcbmNvbnN0IGRvdHNBcnIgPSBbXTtcblxubGV0IG4gPSAwO1xubGV0IHNwZWVkID0gMzAwO1xuXG5jb25zdCBjcmVhdGVBbGxEb3RzID0gKCkgPT4ge1xuXHRmb3IgKGxldCBpdGVtID0gMDsgaXRlbSA8IHByb2plY3RzLmxlbmd0aDsgaXRlbSsrKSB7XG5cdFx0Y29uc3QgbmV3RG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0bmV3RG90LmNsYXNzTGlzdC5hZGQoJ2RvdCcpO1xuXHRcdGRvdHMuYXBwZW5kKG5ld0RvdCk7XG5cdFx0ZG90c0Fyci5wdXNoKG5ld0RvdCk7XG5cdH1cblx0ZG90c0FyclswXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtZG90Jyk7XG59O1xuXG5jb25zdCBuZXh0U2xpZGUgPSAoKSA9PiB7XG5cdGlmIChuIDwgcHJvamVjdHMubGVuZ3RoIC0gMSkge1xuXHRcdGlmIChwcm9qZWN0c1tuXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRwcm9qZWN0c1tuXS5jbGFzc0xpc3QuYWRkKCdhbmltYXRpb24tcmV2Jyk7XG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0cHJvamVjdHNbbl0uY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0aW9uLXJldicpO1xuXHRcdFx0XHRkb3RzQXJyW25dLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1kb3QnKTtcblx0XHRcdFx0ZG90c0FycltuICsgMV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlLWRvdCcpO1xuXHRcdFx0XHRwcm9qZWN0c1tuICsgMV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cdFx0XHRcdHByb2plY3RzW25dLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdFx0XHRwcm9qZWN0c1tuICsgMV0uY2xhc3NMaXN0LmFkZCgnYW5pbWF0aW9uJyk7XG5cdFx0XHRcdG4rKztcblx0XHRcdH0sIHNwZWVkKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAobiA9PSBwcm9qZWN0cy5sZW5ndGggLSAxKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG59O1xuY29uc3QgcHJldlNsaWRlID0gKCkgPT4ge1xuXHRjb25zb2xlLmxvZyhuKTtcblx0aWYgKG4gPiAwKSB7XG5cdFx0aWYgKHByb2plY3RzW25dLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRcdHByb2plY3RzW25dLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGlvbi1yZXYnKTtcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRwcm9qZWN0c1tuXS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRpb24tcmV2Jyk7XG5cdFx0XHRcdHByb2plY3RzW25dLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdFx0XHRwcm9qZWN0c1tuIC0gMV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cdFx0XHRcdGRvdHNBcnJbbl0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWRvdCcpO1xuXHRcdFx0XHRkb3RzQXJyW24gLSAxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtZG90Jyk7XG5cdFx0XHRcdHByb2plY3RzW24gLSAxXS5jbGFzc0xpc3QuYWRkKCdhbmltYXRpb24nKTtcblx0XHRcdFx0bi0tO1xuXHRcdFx0fSwgc3BlZWQpO1xuXHRcdH1cblx0fSBlbHNlIGlmIChuID09IDApIHtcblx0XHRyZXR1cm47XG5cdH1cbn07XG5cbi8vIG1haWxcbmNvbnN0IHNlbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VuZC1idG4nKTtcblxuY29uc3Qgc2VuZE1haWwgPSAoKSA9PiB7XG5cdGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpdGxlJykudmFsdWU7XG5cdGNvbnN0IG1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVzc2FnZScpLnZhbHVlO1xuXHRjb25zdCBuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hbWUnKS52YWx1ZTtcblx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBgbWFpbHRvOnBhdHJ5ay5rYXdpYWtAaWNsb3VkLmNvbT9zdWJqZWN0PSR7dGl0bGV9JmJvZHk9JHttZXNzYWdlfSwgUG96ZHJhd2lhbSBcblx0JHtuYW1lfWA7XG59O1xuXG4vLyBzY3JvbGxcbmNvbnN0IHJldmFsU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXZhbC1zZWN0aW9uJyk7XG5cbmNvbnN0IGhhbmRsZUZpcnN0UmV2YWwgPSAoKSA9PiB7XG5cdGNvbnN0IHJldmFsU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXZhbC1zZWN0aW9uJyk7XG5cblx0aWYgKHJldmFsU2VjdGlvbi5vZmZzZXRUb3AgLSB3aW5kb3cuc2Nyb2xsWSA8IHdpbmRvdy5pbm5lckhlaWdodCAtIDE1MCkge1xuXHRcdHJldmFsU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdyZXZhbCcpO1xuXHRcdHNldFRpbWVvdXQod3JpdGluZ0FuaW1hdGlvbiwgNTAwKTtcblx0fVxufTtcbmNvbnN0IGhhbmRsZVNlY29uZFJldmFsID0gKCkgPT4ge1xuXHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRyZXZhbFNlY3Rpb25bMV0uY2xhc3NMaXN0LmFkZCgncmV2YWwnKTtcblx0fSwgMTAwMCk7XG59O1xuY29uc3QgaGFuZGxlUmV2YWwgPSAoKSA9PiB7XG5cdHJldmFsU2VjdGlvbi5mb3JFYWNoKChzZWMpID0+IHtcblx0XHRpZiAoc2VjLm9mZnNldFRvcCAtIHdpbmRvdy5zY3JvbGxZIDwgd2luZG93LmlubmVySGVpZ2h0IC0gMTUwKSB7XG5cdFx0XHRzZWMuY2xhc3NMaXN0LmFkZCgncmV2YWwnKTtcblx0XHR9XG5cdH0pO1xufTtcblxuLy8gdHlwaW5nXG5jb25zdCB0ZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnR5cGluZy10ZXh0Jyk7XG5jb25zdCB0eXBpbmdCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHlwaW5nLWJhcicpO1xubGV0IGlucHV0VmFsdWUgPSAnRnJvbnQgRW5kIERldmVsb3Blcic7XG5sZXQgdGltZW91dDtcbmxldCBpbmRleCA9IDE7XG5sZXQgYW5pU3BlZWQgPSA5MDtcblxuY29uc3Qgd3JpdGluZ0FuaW1hdGlvbiA9ICgpID0+IHtcblx0dGV4dC5pbm5lckhUTUwgPSBpbnB1dFZhbHVlLnNsaWNlKDAsIGluZGV4KTtcblx0aW5kZXgrKztcblx0aWYgKGluZGV4ID4gaW5wdXRWYWx1ZS5sZW5ndGgpIHJldHVybjtcblx0dGltZW91dCA9IHNldFRpbWVvdXQod3JpdGluZ0FuaW1hdGlvbiwgYW5pU3BlZWQpO1xufTtcblxuY29uc3QgYmFyQW5pbWF0aW9uID0gKCkgPT4ge1xuXHR0eXBpbmdCYXIuc3R5bGUub3BhY2l0eSA9IDA7XG5cdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdHR5cGluZ0Jhci5zdHlsZS5vcGFjaXR5ID0gMTtcblx0fSwgNTAwKTtcbn07XG5cbi8vIGJ1dHRvbiBlZmZcbmNvbnN0IGFuaW1hdGVkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFuaW1hdGVkLWJ0bicpO1xuXG5jb25zdCBlZmZlY3QgPSAoZSkgPT4ge1xuXHRjb25zdCByZWN0ID0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0Y29uc3QgeCA9IGUudGFyZ2V0Lm9mZnNldFdpZHRoIC0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCk7XG5cdGNvbnNvbGUubG9nKHgpO1xuXHRjb25zdCB5ID0gZS50YXJnZXQub2Zmc2V0SGVpZ2h0IC0gKGUuY2xpZW50WSAtIHJlY3QudG9wKTtcblxuXHRlLnRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1tb3VzZS14JywgYCR7eH1weGApO1xuXHRlLnRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1tb3VzZS15JywgYCR7eX1weGApO1xufTtcblxuYW5pbWF0ZWRCdG4uZm9yRWFjaCgoYnRuKSA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZWZmZWN0KSk7XG5cbi8vIGFuaW1hdGVkIGltZ1xuXG5jb25zdCBpbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZScpO1xuXG5jb25zdCByb3RhdGluZ0ltZyA9IChlKSA9PiB7XG5cdGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2V0LXBvcycpKSB7XG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgncmVzZXQtcG9zJyk7XG5cdH1cbiAgXG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWRkLXBvcycpO1xuXHRcbiBcblxuXHRsZXQgeDtcblx0bGV0IHk7XG5cdHggPSBlLm9mZnNldFg7XG5cdHkgPSBlLm9mZnNldFk7XG5cblx0Y29uc3QgbWlkZGxlWCA9IGUudGFyZ2V0Lm9mZnNldFdpZHRoIC8gMjtcblx0Y29uc3QgbWlkZGxlWSA9IGUudGFyZ2V0Lm9mZnNldEhlaWdodCAvIDI7XG5cblx0Y29uc3QgZmluYWxYID0gKG1pZGRsZVggLSB4KSAvIDEwO1xuXHRjb25zdCBmaW5hbFkgPSAobWlkZGxlWSAtIHkpIC8gMTA7XG5cblx0ZS50YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdHJhbnNmb3JtLXknLCBgJHtNYXRoLmZsb29yKGZpbmFsWCl9ZGVnYCk7XG5cdGUudGFyZ2V0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS14JywgYCR7TWF0aC5mbG9vcihmaW5hbFkpfWRlZ2ApO1xufTtcblxuaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgcm90YXRpbmdJbWcpO1xuaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoZSkgPT4ge1xuXHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdyZXNldC1wb3MnKTtcbiAgXHRlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdhZGQtcG9zJyk7XG59KTtcblxuc2V0SW50ZXJ2YWwoYmFyQW5pbWF0aW9uLCAxMDAwKTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVJldmFsKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaGFuZGxlRmlyc3RSZXZhbCk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGhhbmRsZVNlY29uZFJldmFsKTtcblxuc2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbmRNYWlsKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjcmVhdGVBbGxEb3RzKTtcbm5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBuZXh0U2xpZGUpO1xucHJldkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHByZXZTbGlkZSk7XG4iXX0=
