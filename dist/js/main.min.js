"use strict";var timeout,burger=document.querySelector(".mobile__burger"),mobileMenu=document.querySelector(".mobile__menu"),handleNav=function(){mobileMenu.classList.toggle("active-nav")},sliderBtn=(burger.addEventListener("click",handleNav),document.querySelector(".slider-item")),sliderText=document.querySelector(".slider-text"),handleSlider=function(){sliderText.classList.toggle("active")},prevBtn=(sliderBtn.addEventListener("click",handleSlider),document.querySelector(".prev")),nextBtn=document.querySelector(".next"),projects=document.querySelectorAll(".project-item"),dots=document.querySelector(".dots"),dotsArr=[],n=0,speed=300,createAllDots=function(){for(var e=0;e<projects.length;e++){var t=document.createElement("div");t.classList.add("dot"),dots.append(t),dotsArr.push(t)}dotsArr[0].classList.add("active-dot")},nextSlide=function(){n<projects.length-1?projects[n].classList.contains("active")&&(projects[n].classList.add("animation-rev"),setTimeout(function(){projects[n].classList.remove("animation-rev"),dotsArr[n].classList.remove("active-dot"),dotsArr[n+1].classList.add("active-dot"),projects[n+1].classList.add("active"),projects[n].classList.remove("active"),projects[n+1].classList.add("animation"),n++},speed)):projects.length},prevSlide=function(){console.log(n),0<n&&projects[n].classList.contains("active")&&(projects[n].classList.add("animation-rev"),setTimeout(function(){projects[n].classList.remove("animation-rev"),projects[n].classList.remove("active"),projects[n-1].classList.add("active"),dotsArr[n].classList.remove("active-dot"),dotsArr[n-1].classList.add("active-dot"),projects[n-1].classList.add("animation"),n--},speed))},sendBtn=document.querySelector(".send-btn"),sendMail=function(){var e=document.querySelector(".title").value,t=document.querySelector(".message").value,n=document.querySelector(".name").value;window.location.href="mailto:patryk.kawiak@icloud.com?subject=".concat(e,"&body=").concat(t,", Pozdrawiam \n\t").concat(n)},revalSection=document.querySelectorAll(".reval-section"),handleFirstReval=function(){var e=document.querySelector(".reval-section");e.offsetTop-window.scrollY<window.innerHeight-150&&(e.classList.add("reval"),setTimeout(writingAnimation,500))},handleSecondReval=function(){setTimeout(function(){revalSection[1].classList.add("reval")},1e3)},handleReval=function(){revalSection.forEach(function(e){e.offsetTop-window.scrollY<window.innerHeight-150&&e.classList.add("reval")})},text=document.querySelector(".typing-text"),typingBar=document.querySelector(".typing-bar"),inputValue="Front End Developer",index=1,aniSpeed=90,writingAnimation=function e(){text.innerHTML=inputValue.slice(0,index),++index>inputValue.length||(timeout=setTimeout(e,aniSpeed))},barAnimation=function(){typingBar.style.opacity=0,setTimeout(function(){typingBar.style.opacity=1},500)},animatedBtn=document.querySelectorAll(".animated-btn"),effect=function(e){var t=e.target.getBoundingClientRect(),n=e.target.offsetWidth-(e.clientX-t.left),t=(console.log(n),e.target.offsetHeight-(e.clientY-t.top));e.target.style.setProperty("--mouse-x","".concat(n,"px")),e.target.style.setProperty("--mouse-y","".concat(t,"px"))},image=(animatedBtn.forEach(function(e){return e.addEventListener("mousemove",effect)}),document.querySelector(".image")),rotatingImg=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos"),t=e.offsetX,o=e.offsetY;var t,n=e.target.offsetWidth/2,o=(e.target.offsetHeight/2-o)/10;e.target.style.setProperty("--transform-y","".concat(Math.floor((n-t)/10),"deg")),e.target.style.setProperty("--transform-x","".concat(Math.floor(o),"deg"))};image.addEventListener("mousemove",rotatingImg),image.addEventListener("mouseout",function(e){e.target.classList.add("reset-pos"),e.target.classList.remove("add-pos")}),setInterval(barAnimation,1e3),window.addEventListener("scroll",handleReval),window.addEventListener("DOMContentLoaded",handleFirstReval),window.addEventListener("DOMContentLoaded",handleSecondReval),sendBtn.addEventListener("click",sendMail),document.addEventListener("DOMContentLoaded",createAllDots),nextBtn.addEventListener("click",nextSlide),prevBtn.addEventListener("click",prevSlide);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic2V0VGltZW91dCIsImJ1cmdlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1vYmlsZU1lbnUiLCJoYW5kbGVOYXYiLCJ0b2dnbGUiLCJzbGlkZXJCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwic2xpZGVyVGV4dCIsImNsYXNzTGlzdCIsInByb2plY3RzIiwiaGFuZGxlU2xpZGVyIiwicXVlcnlTZWxlY3RvckFsbCIsImRvdHNBcnIiLCJzcGVlZCIsImNyZWF0ZUFsbERvdHMiLCJuZXdEb3QiLCJkb3RzIiwiYXBwZW5kIiwiaXRlbSIsImxlbmd0aCIsImNyZWF0ZUVsZW1lbnQiLCJuZXh0U2xpZGUiLCJhZGQiLCJuIiwicmVtb3ZlIiwicHJldlNsaWRlIiwiY29uc29sZSIsImxvZyIsInNlbmRCdG4iLCJyZXZhbFNlY3Rpb24iLCJoYW5kbGVGaXJzdFJldmFsIiwidmFsdWUiLCJvZmZzZXRUb3AiLCJzY3JvbGxZIiwid2luZG93IiwidGl0bGUiLCJjb25jYXQiLCJtZXNzYWdlIiwibmFtZSIsImZvckVhY2giLCJpbm5lckhlaWdodCIsImhhbmRsZVNlY29uZFJldmFsIiwidGV4dCIsImlucHV0VmFsdWUiLCJzZWMiLCJpbmRleCIsImFuaVNwZWVkIiwiYmFyQW5pbWF0aW9uIiwidHlwaW5nQmFyIiwid3JpdGluZ0FuaW1hdGlvbiIsImlubmVySFRNTCIsInNsaWNlIiwiZWZmZWN0IiwidGltZW91dCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInkiLCJvZmZzZXRIZWlnaHQiLCJzdHlsZSIsInNldFByb3BlcnR5Iiwib3BhY2l0eSIsImFuaW1hdGVkQnRuIiwiaW1hZ2UiLCJyb3RhdGluZ0ltZyIsInRhcmdldCIsImUiLCJjbGllbnRYIiwicmVjdCIsImxlZnQiLCJ4IiwiY2xpZW50WSIsInRvcCIsIm9mZnNldFgiLCJtaWRkbGVZIiwiY29udGFpbnMiLCJzZXRJbnRlcnZhbCIsIm5leHRCdG4iLCJwcmV2QnRuIiwib2Zmc2V0WSIsIm1pZGRsZVgiLCJvZmZzZXRXaWR0aCIsImZpbmFsWSIsIk1hdGgiLCJmbG9vciIsImhhbmRsZVJldmFsIiwic2VuZE1haWwiXSwibWFwcGluZ3MiOiJhQUFBLElBdUlDQSxRQXZJREMsT0FBQUMsU0FBQUMsY0FBQSxpQkFBQSxFQUdNQyxXQUFhRixTQUFTQyxjQUFjLGVBQWUsRUFBbkRDLFVBQWFGLFdBRW5CRSxXQUFNQyxVQUFZQyxPQUFaRCxZQUFrQixDQUV4QixFQU1NRSxXQUpOTixPQUFPTyxpQkFBaUIsUUFBU0gsU0FBUyxFQUl4QkgsU0FBU0MsY0FBYyxjQUFlLEdBQ2xETSxXQUFhUCxTQUFTQyxjQUFjLGNBQWUsRUFHeERNLGFBQVdDLFdBQ1hELFdBQUFDLFVBQUFKLE9BQUEsUUFBQSxDQUVEQyxFQVFNSSxTQU5OSixVQUFBQyxpQkFBQSxRQUFBSSxZQUFBLEVBTWlCVixTQUFTVyxjQUFBQSxPQUFpQixHQUVyQ0MsUUFBWVosU0FBQUMsY0FBQSxPQUFBLEVBR2RZLFNBQVdiLFNBQUFXLGlCQUFBLGVBQUEsRUFFVEcsS0FBQUEsU0FBZ0JiLGNBQWhCYSxPQUFhLEVBQ2xCRixRQUFhLEdBRVpHLEVBQUFBLEVBQ0FDLE1BQUtDLElBRU5ILGNBQUEsV0FMQSxJQU1BRixJQUFRTSxFQUFHVixFQUFBQSxFQUFjQyxTQUFBVSxPQUFhRCxDQUFBLEdBQUEsQ0FDdEMsSUFBQUgsRUFBQWYsU0FBQW9CLGNBQUEsS0FBQSxFQUVETCxFQUFNTSxVQUFZQyxJQUFBLEtBQVpELEVBQ0xMLEtBQUtDLE9BQUdSLENBQVNVLEVBTmhCUCxRQU9JSCxLQUFBQSxDQUFZRCxDQU5qQixDQUNBSSxRQU9FZCxHQUFBQSxVQUFXd0IsSUFBQSxZQUFNLENBTnBCLEVBRU1ELFVBT08sV0FOUkUsRUFPRGQsU0FBVVUsT0FBTVgsRUFOZEMsU0FPRkEsR0FBVUQsVUFBRUEsU0FBaUIsUUFBUSxJQU50Q0MsU0FPQ0EsR0FBQUEsVUFBZ0JELElBQUFBLGVBQWMsRUFOL0JWLFdBT0ksV0FOSFcsU0FPRUksR0FBTUwsVUFBQWdCLE9BQUEsZUFBQSxFQUNWWixRQUFBVyxHQUFBZixVQUFBZ0IsT0FBQSxZQUFBLEVBQ0FaLFFBQU1XLEVBQUssR0FBSWQsVUFBU1UsSUFBTSxZQUFNLEVBQ3BDVixTQUFBYyxFQUFBLEdBQUFmLFVBQUFjLElBQUEsUUFBQSxFQUNEYixTQUFBYyxHQUFBZixVQUFBZ0IsT0FBQSxRQUFBLEVBQ0FmLFNBQUFjLEVBQUEsR0FBQWYsVUFBQWMsSUFBQSxXQUFBLEVBQ0tHLENBQUFBLEVBQ0xDLEVBQUFBLEtBQVFDLEdBRU1KLFNBQUdmLE1BSmxCLEVBQ01pQixVQU9RLFdBTmJDLFFBT0dqQixJQUFBQSxDQUFBQSxFQUNBRyxFQVBDVyxHQUNDZCxTQU9LYyxHQUFFZixVQUFNQSxTQUFjLFFBQUEsSUFOOUJDLFNBT0NBLEdBQUFBLFVBQWdCRCxJQUFBQSxlQUFjLEVBTi9CVixXQU9JLFdBTkhXLFNBT0VJLEdBQU1MLFVBQUFnQixPQUFBLGVBQUEsRUFDVmYsU0FBQWMsR0FBQWYsVUFBQWdCLE9BQUEsUUFBQSxFQUNBZixTQUFVYyxFQUFDLEdBQUtmLFVBQUVjLElBQUEsUUFBQSxFQUNsQlYsUUFBQVcsR0FBQWYsVUFBQWdCLE9BQUEsWUFBQSxFQUNEWixRQUFBVyxFQUFBLEdBQUFmLFVBQUFjLElBQUEsWUFBQSxFQUNBYixTQUFBYyxFQUFBLEdBQUFmLFVBQUFjLElBQUEsV0FBQSxFQU5HQyxDQUFDLEVBUUwsRUFBQVYsS0FBQSxFQUZBLEVBR01lLFFBQVU1QixTQUFTQyxjQUFjLFdBQVcsRUFXNUM0QixTQUFZLFdBRWxCLElBQU1DLEVBQUFBLFNBQW1CN0IsY0FBbkI2QixRQUFBQSxFQUFnQkEsTUFDZkQsRUFBQUEsU0FBZTdCLGNBQVNDLFVBQWMsRUFBQThCLE1BRXhDRixFQUFBQSxTQUFhRyxjQUFrQixPQUFDQyxFQUFPRixNQVYzQ0csT0FXQ0wsU0FBYXJCLEtBQUFBLDJDQUFBQSxPQUFzQjJCLEVBQUEsUUFBQSxFQUFBQyxPQUFBQyxFQUFBLG1CQUFBLEVBQUFELE9BVmxDRSxDQVdEeEMsQ0FWRixFQWNDQSxhQUFXRSxTQUFNVyxpQkFBQSxnQkFBQSxFQUVkbUIsaUJBQUssV0FDUixJQUFBRCxFQUFBN0IsU0FBQUMsY0FBQSxnQkFBQSxFQUVBNEIsRUFBYVUsVUFBUUwsT0FBSUQsUUFBS0MsT0FBQU0sWUFBQSxNQVY3QlgsRUFXUUcsVUFBWUUsSUFBQUEsT0FBT0QsRUFWM0JuQyxXQVdLVSxpQkFBcUIsR0FBQyxFQVQ3QixFQVlDaUMsa0JBQUEsV0FWQTNDLFdBQVcsV0FZWitCLGFBQUEsR0FBQXJCLFVBQUFjLElBQUEsT0FBQSxDQUNBLEVBQU1vQixHQUFJLENBQ1YsRUFDSUMsWUFBYSxXQUNqQmQsYUFBV1UsUUFBQSxTQUFBSyxHQUNQQyxFQUFLYixVQUFJRSxPQUFBRCxRQUFBQyxPQUFBTSxZQUFBLEtBQ2JJLEVBQUlFLFVBQWF4QixJQUFBLE9BQUEsQ0FUaEIsQ0FZQW9CLENBWEQsRUFlQ0EsS0FBQTFDLFNBQUFDLGNBQUEsY0FBQSxFQUVLOEMsVUFBWS9DLFNBQUdDLGNBQUgsYUFBUyxFQUMxQitDLFdBQWUsc0JBRWRBLE1BQUFBLEVBQ0FGLFNBQU0sR0FYRkcsaUJBQW1CLFNBQW5CQSxJQWNOUCxLQUFBUSxVQUFBUCxXQUFBUSxNQUFBLEVBQUFOLEtBQUEsRUFDQUEsRUFBQUEsTUFFZUYsV0FBVFMsU0FiTEMsUUFjVXZELFdBQVl3RCxFQUFBQSxRQUF1QixFQWI5QyxFQWlCT0MsYUFBYUMsV0FkbkJSLFVBZ0JTUyxNQUFNQyxRQUFBQSxFQWZmNUQsV0FnQlMyRCxXQUNUVCxVQUFBUyxNQUFBRSxRQUFBLENBRURDLEVBQUFBLEdBQUFBLENBaEJBLEVBa0JBQSxZQUFBNUQsU0FBQVcsaUJBQUEsZUFBQSxFQUVNa0QsT0FBUTdELFNBQUFBLEdBRWQsSUFBTThELEVBQUFBLEVBQVdDLE9BQUdULHNCQUFPLEVBRXZCUyxFQUFBQSxFQUFPdkQsT0FBQUEsYUFBaUJ3RCxFQUFBQyxRQUFZQyxFQUFBQyxNQUdwQ0osR0FsQkhyQyxRQWdCQUMsSUFBQXlDLENBQUEsRUFFVTVELEVBQUFBLE9BQVNnRCxjQUFlUSxFQUFBSyxRQUFBSCxFQUFBSSxNQWZsQ04sRUFvQkFELE9BQUtOLE1BQUFDLFlBQUEsWUFBQSxHQUFBdEIsT0FBQWdDLEVBQUEsSUFBQSxDQUFBLEVBbkJMSixFQW9CQ0QsT0FBS1EsTUFBT2IsWUFBQSxZQUFBLEdBQUF0QixPQUFBbUIsRUFBQSxJQUFBLENBQUEsQ0FuQmQsRUE2QkdRLE9BM0JISCxZQXFCT1ksUUFBWVQsU0FBQUEsR0FBTSxPQUFDUCxFQUFBQSxpQkFBZ0IsWUFBQUosTUFBQSxDQUFBLENBQUEsRUFNaENLLFNBQU1DLGNBQVksUUFBZSxHQUdyQ3BELFlBQUFBLFNBQUFBLEdBQ0QwRCxFQUFDMUQsT0FBQUEsVUFBaUJtRSxTQUFVLFdBQUUsR0FDbENULEVBQUVELE9BQU92RCxVQUFVYyxPQUFJLFdBQVksRUFJcENvRCxFQUFBQSxPQUFXbEUsVUFBQ3VDLElBQVksU0FBTyxFQVEvQjRCLEVBQUFBLEVBQU9KLFFBQ1BLLEVBQUFBLEVBQU9DLFFBSFBqRCxJQUFBQSxFQXRCT2tELEVBQVVkLEVBQUVELE9BQU9nQixZQUFjLEVBSWpDQyxHQUhVaEIsRUFBRUQsT0FBT1AsYUFBZSxFQUdkRCxHQUFLLEdBRS9CUyxFQUFFRCxPQUFPTixNQUFNQyxZQUFZLGdCQUFlLEdBQUF0QixPQUFLNkMsS0FBS0MsT0FIcENKLEVBQVVWLEdBQUssRUFHaUMsRUFBQyxLQUFBLENBQUEsRUFDakVKLEVBQUVELE9BQU9OLE1BQU1DLFlBQVksZ0JBQWUsR0FBQXRCLE9BQUs2QyxLQUFLQyxNQUFNRixDQUFNLEVBQUMsS0FBQSxDQUFBLENBQ2xFLEVBRUFuQixNQUFNdkQsaUJBQWlCLFlBQWF3RCxXQUFXLEVBQy9DRCxNQUFNdkQsaUJBQWlCLFdBQVksU0FBQzBELEdBQ25DQSxFQUFFRCxPQUFPdkQsVUFBVWMsSUFBSSxXQUFXLEVBQ2hDMEMsRUFBRUQsT0FBT3ZELFVBQVVnQixPQUFPLFNBQVMsQ0FDdEMsQ0FBQyxFQUVEa0QsWUFBWTNCLGFBQWMsR0FBSSxFQUU5QmIsT0FBTzVCLGlCQUFpQixTQUFVNkUsV0FBVyxFQUM3Q2pELE9BQU81QixpQkFBaUIsbUJBQW9Cd0IsZ0JBQWdCLEVBQzVESSxPQUFPNUIsaUJBQWlCLG1CQUFvQm1DLGlCQUFpQixFQUU3RGIsUUFBUXRCLGlCQUFpQixRQUFTOEUsUUFBUSxFQUMxQ3BGLFNBQVNNLGlCQUFpQixtQkFBb0JRLGFBQWEsRUFDM0Q2RCxRQUFRckUsaUJBQWlCLFFBQVNlLFNBQVMsRUFDM0N1RCxRQUFRdEUsaUJBQWlCLFFBQVNtQixTQUFTIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmF2XG5cbmNvbnN0IGJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGVfX2J1cmdlcicpO1xuY29uc3QgbW9iaWxlTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGVfX21lbnUnKTtcblxuY29uc3QgaGFuZGxlTmF2ID0gKCkgPT4ge1xuXHRtb2JpbGVNZW51LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS1uYXYnKTtcbn07XG5cbmJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU5hdik7XG5cbi8vIHNsaWRlclxuXG5jb25zdCBzbGlkZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWl0ZW0nKTtcbmNvbnN0IHNsaWRlclRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLXRleHQnKTtcblxuY29uc3QgaGFuZGxlU2xpZGVyID0gKCkgPT4ge1xuXHRzbGlkZXJUZXh0LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xufTtcblxuc2xpZGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlU2xpZGVyKTtcblxuLy8gY2Fyb3VzZWxcblxuY29uc3QgcHJldkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmV2Jyk7XG5cbmNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV4dCcpO1xuXG5jb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0LWl0ZW0nKTtcbmNvbnN0IGRvdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZG90cycpO1xuY29uc3QgZG90c0FyciA9IFtdO1xuXG5sZXQgbiA9IDA7XG5sZXQgc3BlZWQgPSAzMDA7XG5cbmNvbnN0IGNyZWF0ZUFsbERvdHMgPSAoKSA9PiB7XG5cdGZvciAobGV0IGl0ZW0gPSAwOyBpdGVtIDwgcHJvamVjdHMubGVuZ3RoOyBpdGVtKyspIHtcblx0XHRjb25zdCBuZXdEb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRuZXdEb3QuY2xhc3NMaXN0LmFkZCgnZG90Jyk7XG5cdFx0ZG90cy5hcHBlbmQobmV3RG90KTtcblx0XHRkb3RzQXJyLnB1c2gobmV3RG90KTtcblx0fVxuXHRkb3RzQXJyWzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1kb3QnKTtcbn07XG5cbmNvbnN0IG5leHRTbGlkZSA9ICgpID0+IHtcblx0aWYgKG4gPCBwcm9qZWN0cy5sZW5ndGggLSAxKSB7XG5cdFx0aWYgKHByb2plY3RzW25dLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRcdHByb2plY3RzW25dLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGlvbi1yZXYnKTtcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRwcm9qZWN0c1tuXS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRpb24tcmV2Jyk7XG5cdFx0XHRcdGRvdHNBcnJbbl0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWRvdCcpO1xuXHRcdFx0XHRkb3RzQXJyW24gKyAxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtZG90Jyk7XG5cdFx0XHRcdHByb2plY3RzW24gKyAxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblx0XHRcdFx0cHJvamVjdHNbbl0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cdFx0XHRcdHByb2plY3RzW24gKyAxXS5jbGFzc0xpc3QuYWRkKCdhbmltYXRpb24nKTtcblx0XHRcdFx0bisrO1xuXHRcdFx0fSwgc3BlZWQpO1xuXHRcdH1cblx0fSBlbHNlIGlmIChuID09IHByb2plY3RzLmxlbmd0aCAtIDEpIHtcblx0XHRyZXR1cm47XG5cdH1cbn07XG5jb25zdCBwcmV2U2xpZGUgPSAoKSA9PiB7XG5cdGNvbnNvbGUubG9nKG4pO1xuXHRpZiAobiA+IDApIHtcblx0XHRpZiAocHJvamVjdHNbbl0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdFx0cHJvamVjdHNbbl0uY2xhc3NMaXN0LmFkZCgnYW5pbWF0aW9uLXJldicpO1xuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHByb2plY3RzW25dLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGlvbi1yZXYnKTtcblx0XHRcdFx0cHJvamVjdHNbbl0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cdFx0XHRcdHByb2plY3RzW24gLSAxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblx0XHRcdFx0ZG90c0FycltuXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtZG90Jyk7XG5cdFx0XHRcdGRvdHNBcnJbbiAtIDFdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1kb3QnKTtcblx0XHRcdFx0cHJvamVjdHNbbiAtIDFdLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGlvbicpO1xuXHRcdFx0XHRuLS07XG5cdFx0XHR9LCBzcGVlZCk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG4gPT0gMCkge1xuXHRcdHJldHVybjtcblx0fVxufTtcblxuLy8gbWFpbFxuY29uc3Qgc2VuZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZW5kLWJ0bicpO1xuXG5jb25zdCBzZW5kTWFpbCA9ICgpID0+IHtcblx0Y29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKS52YWx1ZTtcblx0Y29uc3QgbWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZXNzYWdlJykudmFsdWU7XG5cdGNvbnN0IG5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmFtZScpLnZhbHVlO1xuXHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGBtYWlsdG86cGF0cnlrLmthd2lha0BpY2xvdWQuY29tP3N1YmplY3Q9JHt0aXRsZX0mYm9keT0ke21lc3NhZ2V9LCBQb3pkcmF3aWFtIFxuXHQke25hbWV9YDtcbn07XG5cbi8vIHNjcm9sbFxuY29uc3QgcmV2YWxTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJldmFsLXNlY3Rpb24nKTtcblxuY29uc3QgaGFuZGxlRmlyc3RSZXZhbCA9ICgpID0+IHtcblx0Y29uc3QgcmV2YWxTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJldmFsLXNlY3Rpb24nKTtcblxuXHRpZiAocmV2YWxTZWN0aW9uLm9mZnNldFRvcCAtIHdpbmRvdy5zY3JvbGxZIDwgd2luZG93LmlubmVySGVpZ2h0IC0gMTUwKSB7XG5cdFx0cmV2YWxTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3JldmFsJyk7XG5cdFx0c2V0VGltZW91dCh3cml0aW5nQW5pbWF0aW9uLCA1MDApO1xuXHR9XG59O1xuY29uc3QgaGFuZGxlU2Vjb25kUmV2YWwgPSAoKSA9PiB7XG5cdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdHJldmFsU2VjdGlvblsxXS5jbGFzc0xpc3QuYWRkKCdyZXZhbCcpO1xuXHR9LCAxMDAwKTtcbn07XG5jb25zdCBoYW5kbGVSZXZhbCA9ICgpID0+IHtcblx0cmV2YWxTZWN0aW9uLmZvckVhY2goKHNlYykgPT4ge1xuXHRcdGlmIChzZWMub2Zmc2V0VG9wIC0gd2luZG93LnNjcm9sbFkgPCB3aW5kb3cuaW5uZXJIZWlnaHQgLSAxNTApIHtcblx0XHRcdHNlYy5jbGFzc0xpc3QuYWRkKCdyZXZhbCcpO1xuXHRcdH1cblx0fSk7XG59O1xuXG4vLyB0eXBpbmdcbmNvbnN0IHRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHlwaW5nLXRleHQnKTtcbmNvbnN0IHR5cGluZ0JhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50eXBpbmctYmFyJyk7XG5sZXQgaW5wdXRWYWx1ZSA9ICdGcm9udCBFbmQgRGV2ZWxvcGVyJztcbmxldCB0aW1lb3V0O1xubGV0IGluZGV4ID0gMTtcbmxldCBhbmlTcGVlZCA9IDkwO1xuXG5jb25zdCB3cml0aW5nQW5pbWF0aW9uID0gKCkgPT4ge1xuXHR0ZXh0LmlubmVySFRNTCA9IGlucHV0VmFsdWUuc2xpY2UoMCwgaW5kZXgpO1xuXHRpbmRleCsrO1xuXHRpZiAoaW5kZXggPiBpbnB1dFZhbHVlLmxlbmd0aCkgcmV0dXJuO1xuXHR0aW1lb3V0ID0gc2V0VGltZW91dCh3cml0aW5nQW5pbWF0aW9uLCBhbmlTcGVlZCk7XG59O1xuXG5jb25zdCBiYXJBbmltYXRpb24gPSAoKSA9PiB7XG5cdHR5cGluZ0Jhci5zdHlsZS5vcGFjaXR5ID0gMDtcblx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0dHlwaW5nQmFyLnN0eWxlLm9wYWNpdHkgPSAxO1xuXHR9LCA1MDApO1xufTtcblxuLy8gYnV0dG9uIGVmZlxuY29uc3QgYW5pbWF0ZWRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYW5pbWF0ZWQtYnRuJyk7XG5cbmNvbnN0IGVmZmVjdCA9IChlKSA9PiB7XG5cdGNvbnN0IHJlY3QgPSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRjb25zdCB4ID0gZS50YXJnZXQub2Zmc2V0V2lkdGggLSAoZS5jbGllbnRYIC0gcmVjdC5sZWZ0KTtcblx0Y29uc29sZS5sb2coeCk7XG5cdGNvbnN0IHkgPSBlLnRhcmdldC5vZmZzZXRIZWlnaHQgLSAoZS5jbGllbnRZIC0gcmVjdC50b3ApO1xuXG5cdGUudGFyZ2V0LnN0eWxlLnNldFByb3BlcnR5KCctLW1vdXNlLXgnLCBgJHt4fXB4YCk7XG5cdGUudGFyZ2V0LnN0eWxlLnNldFByb3BlcnR5KCctLW1vdXNlLXknLCBgJHt5fXB4YCk7XG59O1xuXG5hbmltYXRlZEJ0bi5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBlZmZlY3QpKTtcblxuLy8gYW5pbWF0ZWQgaW1nXG5cbmNvbnN0IGltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmltYWdlJyk7XG5cbmNvbnN0IHJvdGF0aW5nSW1nID0gKGUpID0+IHtcblx0aWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncmVzZXQtcG9zJykpIHtcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyZXNldC1wb3MnKTtcblx0fVxuICBcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhZGQtcG9zJyk7XG5cdFxuIFxuXG5cdGxldCB4O1xuXHRsZXQgeTtcblx0eCA9IGUub2Zmc2V0WDtcblx0eSA9IGUub2Zmc2V0WTtcblxuXHRjb25zdCBtaWRkbGVYID0gZS50YXJnZXQub2Zmc2V0V2lkdGggLyAyO1xuXHRjb25zdCBtaWRkbGVZID0gZS50YXJnZXQub2Zmc2V0SGVpZ2h0IC8gMjtcblxuXHRjb25zdCBmaW5hbFggPSAobWlkZGxlWCAtIHgpIC8gMTA7XG5cdGNvbnN0IGZpbmFsWSA9IChtaWRkbGVZIC0geSkgLyAxMDtcblxuXHRlLnRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10cmFuc2Zvcm0teScsIGAke01hdGguZmxvb3IoZmluYWxYKX1kZWdgKTtcblx0ZS50YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdHJhbnNmb3JtLXgnLCBgJHtNYXRoLmZsb29yKGZpbmFsWSl9ZGVnYCk7XG59O1xuXG5pbWFnZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCByb3RhdGluZ0ltZyk7XG5pbWFnZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIChlKSA9PiB7XG5cdGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3Jlc2V0LXBvcycpO1xuICBcdGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2FkZC1wb3MnKTtcbn0pO1xuXG5zZXRJbnRlcnZhbChiYXJBbmltYXRpb24sIDEwMDApO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlUmV2YWwpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBoYW5kbGVGaXJzdFJldmFsKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaGFuZGxlU2Vjb25kUmV2YWwpO1xuXG5zZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VuZE1haWwpO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGNyZWF0ZUFsbERvdHMpO1xubmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG5leHRTbGlkZSk7XG5wcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcHJldlNsaWRlKTtcbiJdfQ==
