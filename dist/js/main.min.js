"use strict";var timeout,burger=document.querySelector(".mobile__burger"),mobileMenu=document.querySelector(".mobile__menu"),navLinks=document.querySelectorAll(".mobile__menu--link"),handleNav=function(){mobileMenu.classList.toggle("active-nav"),burger.classList.toggle("active-burger")},handleCloseNav=function(){mobileMenu.classList.remove("active-nav"),burger.classList.remove("active-burger")},sliderBtn=(navLinks.forEach(function(e){return e.addEventListener("click",handleCloseNav)}),burger.addEventListener("click",handleNav),document.querySelector(".slider-item")),sliderText=document.querySelector(".slider-text"),handleSlider=function(){sliderText.classList.toggle("active")},prevBtn=(sliderBtn.addEventListener("click",handleSlider),document.querySelector(".prev")),nextBtn=document.querySelector(".next"),projects=document.querySelectorAll(".project-item"),dots=document.querySelector(".dots"),dotsArr=[],n=0,speed=300,createAllDots=function(){for(var e=0;e<projects.length;e++){var t=document.createElement("div");t.classList.add("dot"),dots.append(t),dotsArr.push(t)}dotsArr[0].classList.add("active-dot")},nextSlide=function(){n<projects.length-1?projects[n].classList.contains("active")&&(projects[n].classList.add("animation-rev"),setTimeout(function(){projects[n].classList.remove("animation-rev"),projects[n].classList.remove("active"),projects[n+1].classList.add("active"),dotsArr[n].classList.remove("active-dot"),dotsArr[n+1].classList.add("active-dot"),projects[n+1].classList.add("animation"),n++},speed)):projects.length},prevSlide=function(){0<n&&projects[n].classList.contains("active")&&(projects[n].classList.add("animation-rev"),setTimeout(function(){projects[n].classList.remove("animation-rev"),projects[n].classList.remove("active"),projects[n-1].classList.add("active"),dotsArr[n].classList.remove("active-dot"),dotsArr[n-1].classList.add("active-dot"),projects[n-1].classList.add("animation"),n--},speed))},sendBtn=document.querySelector(".send-btn"),sendMail=function(e){e.preventDefault();var e=document.querySelector(".title").value,t=document.querySelector(".message").value,n=document.querySelector(".name").value;""===e||""===t||""===n?console.log("siema"):window.location.href="mailto:patryk.kawiak@icloud.com?subject=".concat(e,"&body=").concat(t,", Pozdrawiam \n\t\t").concat(n)},revalSection=document.querySelectorAll(".reval-section"),handleFirstReval=function(){var e=document.querySelector(".reval-section");e.offsetTop-window.scrollY<window.innerHeight-150&&(e.classList.add("reval"),setTimeout(writingAnimation,500))},handleSecondReval=function(){setTimeout(function(){revalSection[1].classList.add("reval")},1e3)},handleReval=function(){revalSection.forEach(function(e){e.offsetTop-window.scrollY<window.innerHeight-150&&e.classList.add("reval")})},text=document.querySelector(".typing-text"),typingBar=document.querySelector(".typing-bar"),inputValue="Front End Developer",index=1,aniSpeed=90,writingAnimation=function e(){text.innerHTML=inputValue.slice(0,index),++index>inputValue.length||(timeout=setTimeout(e,aniSpeed))},barAnimation=function(){typingBar.style.opacity=0,setTimeout(function(){typingBar.style.opacity=1},500)},animatedBtn=document.querySelectorAll(".animated-btn"),effect=function(e){var t=e.target.getBoundingClientRect(),n=e.target.offsetWidth-(e.clientX-t.left),t=e.target.offsetHeight-(e.clientY-t.top);e.target.style.setProperty("--mouse-x","".concat(n,"px")),e.target.style.setProperty("--mouse-y","".concat(t,"px"))},image=(animatedBtn.forEach(function(e){return e.addEventListener("mousemove",effect)}),document.querySelector(".image")),rotatingImg=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos"),t=e.offsetX,o=e.offsetY;var t,n=e.target.offsetWidth/2,o=(e.target.offsetHeight/2-o)/10;e.target.style.setProperty("--transform-y","".concat(Math.floor((n-t)/10),"deg")),e.target.style.setProperty("--transform-x","".concat(Math.floor(o),"deg"))};image.addEventListener("mousemove",rotatingImg),image.addEventListener("mouseout",function(e){e.target.classList.add("reset-pos"),e.target.classList.remove("add-pos")}),setInterval(barAnimation,1e3),window.addEventListener("scroll",handleReval),window.addEventListener("DOMContentLoaded",handleFirstReval),window.addEventListener("DOMContentLoaded",handleSecondReval),sendBtn.addEventListener("click",sendMail),document.addEventListener("DOMContentLoaded",createAllDots),nextBtn.addEventListener("click",nextSlide),prevBtn.addEventListener("click",prevSlide);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidHlwaW5nQmFyIiwiYnVyZ2VyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibW9iaWxlTWVudSIsIm5hdkxpbmtzIiwiaGFuZGxlTmF2IiwidG9nZ2xlIiwiY2xhc3NMaXN0IiwiaGFuZGxlQ2xvc2VOYXYiLCJyZW1vdmUiLCJzbGlkZXJCdG4iLCJsaW5rIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZVNsaWRlciIsInNsaWRlclRleHQiLCJuZXh0QnRuIiwiZG90cyIsInByb2plY3RzIiwicXVlcnlTZWxlY3RvckFsbCIsInNwZWVkIiwiY3JlYXRlQWxsRG90cyIsIm4iLCJuZXdEb3QiLCJkb3RzQXJyIiwiaXRlbSIsImxlbmd0aCIsImNyZWF0ZUVsZW1lbnQiLCJhZGQiLCJuZXh0U2xpZGUiLCJjb250YWlucyIsInNldFRpbWVvdXQiLCJwcmV2U2xpZGUiLCJzZW5kQnRuIiwiY29uc29sZSIsInNlbmRNYWlsIiwiZSIsInByZXZlbnREZWZhdWx0IiwibG9jYXRpb24iLCJ0aXRsZSIsInZhbHVlIiwibWVzc2FnZSIsIm5hbWUiLCJyZXZhbFNlY3Rpb24iLCJ3aW5kb3ciLCJocmVmIiwiY29uY2F0IiwiaGFuZGxlU2Vjb25kUmV2YWwiLCJoYW5kbGVSZXZhbCIsIm9mZnNldFRvcCIsImlubmVySGVpZ2h0IiwiZm9yRWFjaCIsInNjcm9sbFkiLCJzZWMiLCJ0aW1lb3V0IiwiaW5kZXgiLCJ3cml0aW5nQW5pbWF0aW9uIiwiYmFyQW5pbWF0aW9uIiwic3R5bGUiLCJ0ZXh0IiwiaW5uZXJIVE1MIiwiaW5wdXRWYWx1ZSIsInNsaWNlIiwiYW5pbWF0ZWRCdG4iLCJlZmZlY3QiLCJhbmlTcGVlZCIsInkiLCJvZmZzZXRIZWlnaHQiLCJzZXRQcm9wZXJ0eSIsIm9wYWNpdHkiLCJpbWFnZSIsInJvdGF0aW5nSW1nIiwidGFyZ2V0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50WCIsInJlY3QiLCJsZWZ0IiwiY2xpZW50WSIsInRvcCIsIngiLCJtaWRkbGVYIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRZIiwiZmluYWxZIiwiTWF0aCIsImZsb29yIiwic2V0SW50ZXJ2YWwiLCJoYW5kbGVGaXJzdFJldmFsIiwicHJldkJ0biJdLCJtYXBwaW5ncyI6ImFBQUEsSUFnSkNBLFFBaEpEQyxPQUFBQyxTQUFBQyxjQUFBLGlCQUFBLEVBR01DLFdBQWFGLFNBQVNDLGNBQWMsZUFBZSxFQURuREYsU0FBU0MsU0FBU0MsaUJBQWMscUJBQWtCLEVBRWxERSxVQUFXSCxXQUVqQkUsV0FBTUUsVUFBWUMsT0FBWkQsWUFBa0IsRUFFdkJMLE9BREFHLFVBQVdJLE9BQVVELGVBQU8sQ0FFN0IsRUFFTUUsZUFBaUIsV0FDdEJMLFdBQVVJLFVBQVVFLE9BQU8sWUFBQyxFQUM1QlQsT0FBTU8sVUFBVUUsT0FBTyxlQUFDLENBQ3pCLEVBT01DLFdBTE5OLFNBQTJCTyxRQUFLQyxTQUFBQSxHQUFBQSxPQUFBQSxFQUFpQkEsaUJBQVNKLFFBQWVBLGNBQUEsQ0FBQSxDQUFBLEVBQUFSLE9BQUNZLGlCQUFBLFFBQUFQLFNBQUEsRUFLeERKLFNBQVNDLGNBQWMsY0FBYyxHQUFqRFEsV0FBWVQsU0FBU0MsY0FBYyxjQUFlLEVBR2xEVyxhQUFlLFdBQ3BCQyxXQUFVUCxVQUFVRCxPQUFPLFFBQUMsQ0FDN0IsRUFRTVMsU0FOTkwsVUFBVUUsaUJBQWlCLFFBQVNDLFlBQVksRUFNaENaLFNBQVNDLGNBQWMsT0FBUSxHQUd6Q2MsUUFBT2YsU0FBU0MsY0FBYyxPQUFRLEVBR3ZDZSxTQUFJaEIsU0FBQWlCLGlCQUFBLGVBQUEsRUFDTEMsS0FBUWxCLFNBQUdDLGNBQUEsT0FBQSxFQUVUa0IsUUFBQUEsR0FFSkMsRUFBTUMsRUFDTkEsTUFBT2YsSUFFUGdCLGNBQWFELFdBSmQsSUFLQSxJQUFBRSxFQUFBLEVBQUFBLEVBQUFQLFNBQUFRLE9BQUFELENBQUEsR0FBQSxDQUNBRCxJQUFBQSxFQUFXaEIsU0FBYW1CLGNBQWMsS0FBQSxFQUN0Q0osRUFBQWYs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S0MsT0FIcENMLEVBQVVELEdBQUssRUFHaUMsRUFBQyxLQUFBLENBQUEsRUFDakUzQyxFQUFFb0MsT0FBT2QsTUFBTVUsWUFBWSxnQkFBZSxHQUFBdEIsT0FBS3NDLEtBQUtDLE1BQU1GLENBQU0sRUFBQyxLQUFBLENBQUEsQ0FDbEUsRUFFQWIsTUFBTXpELGlCQUFpQixZQUFhMEQsV0FBVyxFQUMvQ0QsTUFBTXpELGlCQUFpQixXQUFZLFNBQUN1QixHQUNuQ0EsRUFBRW9DLE9BQU9oRSxVQUFVb0IsSUFBSSxXQUFXLEVBQ2xDUSxFQUFFb0MsT0FBT2hFLFVBQVVFLE9BQU8sU0FBUyxDQUNwQyxDQUFDLEVBRUQ0RSxZQUFZN0IsYUFBYyxHQUFJLEVBRTlCYixPQUFPL0IsaUJBQWlCLFNBQVVtQyxXQUFXLEVBQzdDSixPQUFPL0IsaUJBQWlCLG1CQUFvQjBFLGdCQUFnQixFQUM1RDNDLE9BQU8vQixpQkFBaUIsbUJBQW9Ca0MsaUJBQWlCLEVBRTdEZCxRQUFRcEIsaUJBQWlCLFFBQVNzQixRQUFRLEVBQzFDakMsU0FBU1csaUJBQWlCLG1CQUFvQlEsYUFBYSxFQUMzREwsUUFBUUgsaUJBQWlCLFFBQVNnQixTQUFTLEVBQzNDMkQsUUFBUTNFLGlCQUFpQixRQUFTbUIsU0FBUyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hdlxuXG5jb25zdCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlX19idXJnZXInKTtcbmNvbnN0IG1vYmlsZU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlX19tZW51Jyk7XG5jb25zdCBuYXZMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2JpbGVfX21lbnUtLWxpbmsnKTtcblxuY29uc3QgaGFuZGxlTmF2ID0gKCkgPT4ge1xuXHRtb2JpbGVNZW51LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS1uYXYnKTtcblx0YnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS1idXJnZXInKTtcbn07XG5cbmNvbnN0IGhhbmRsZUNsb3NlTmF2ID0gKCkgPT4ge1xuXHRtb2JpbGVNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1uYXYnKTtcblx0YnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1idXJnZXInKTtcbn07XG5cbm5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbG9zZU5hdikpO1xuYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTmF2KTtcblxuLy8gc2xpZGVyXG5cbmNvbnN0IHNsaWRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItaXRlbScpO1xuY29uc3Qgc2xpZGVyVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItdGV4dCcpO1xuXG5jb25zdCBoYW5kbGVTbGlkZXIgPSAoKSA9PiB7XG5cdHNsaWRlclRleHQuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG59O1xuXG5zbGlkZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTbGlkZXIpO1xuXG4vLyBjYXJvdXNlbFxuXG5jb25zdCBwcmV2QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZXYnKTtcblxuY29uc3QgbmV4dEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXh0Jyk7XG5cbmNvbnN0IHByb2plY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3QtaXRlbScpO1xuY29uc3QgZG90cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kb3RzJyk7XG5jb25zdCBkb3RzQXJyID0gW107XG5cbmxldCBuID0gMDtcbmxldCBzcGVlZCA9IDMwMDtcblxuY29uc3QgY3JlYXRlQWxsRG90cyA9ICgpID0+IHtcblx0Zm9yIChsZXQgaXRlbSA9IDA7IGl0ZW0gPCBwcm9qZWN0cy5sZW5ndGg7IGl0ZW0rKykge1xuXHRcdGNvbnN0IG5ld0RvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdG5ld0RvdC5jbGFzc0xpc3QuYWRkKCdkb3QnKTtcblx0XHRkb3RzLmFwcGVuZChuZXdEb3QpO1xuXHRcdGRvdHNBcnIucHVzaChuZXdEb3QpO1xuXHR9XG5cdGRvdHNBcnJbMF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlLWRvdCcpO1xufTtcblxuY29uc3QgbmV4dFNsaWRlID0gKCkgPT4ge1xuXHRpZiAobiA8IHByb2plY3RzLmxlbmd0aCAtIDEpIHtcblx0XHRpZiAocHJvamVjdHNbbl0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdFx0cHJvamVjdHNbbl0uY2xhc3NMaXN0LmFkZCgnYW5pbWF0aW9uLXJldicpO1xuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHByb2plY3RzW25dLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGlvbi1yZXYnKTtcblx0XHRcdFx0cHJvamVjdHNbbl0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cdFx0XHRcdHByb2plY3RzW24gKyAxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblx0XHRcdFx0ZG90c0FycltuXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtZG90Jyk7XG5cdFx0XHRcdGRvdHNBcnJbbiArIDFdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1kb3QnKTtcblx0XHRcdFx0cHJvamVjdHNbbiArIDFdLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGlvbicpO1xuXHRcdFx0XHRuKys7XG5cdFx0XHR9LCBzcGVlZCk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG4gPT0gcHJvamVjdHMubGVuZ3RoIC0gMSkge1xuXHRcdHJldHVybjtcblx0fVxufTtcbmNvbnN0IHByZXZTbGlkZSA9ICgpID0+IHtcblx0aWYgKG4gPiAwKSB7XG5cdFx0aWYgKHByb2plY3RzW25dLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRcdHByb2plY3RzW25dLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGlvbi1yZXYnKTtcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRwcm9qZWN0c1tuXS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRpb24tcmV2Jyk7XG5cdFx0XHRcdHByb2plY3RzW25dLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdFx0XHRwcm9qZWN0c1tuIC0gMV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cdFx0XHRcdGRvdHNBcnJbbl0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWRvdCcpO1xuXHRcdFx0XHRkb3RzQXJyW24gLSAxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtZG90Jyk7XG5cdFx0XHRcdHByb2plY3RzW24gLSAxXS5jbGFzc0xpc3QuYWRkKCdhbmltYXRpb24nKTtcblx0XHRcdFx0bi0tO1xuXHRcdFx0fSwgc3BlZWQpO1xuXHRcdH1cblx0fSBlbHNlIGlmIChuID09IDApIHtcblx0XHRyZXR1cm47XG5cdH1cbn07XG5cbmNvbnN0IHNlbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VuZC1idG4nKTtcbmNvbnN0IHNlbmRNYWlsID0gKGUpID0+IHtcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aXRsZScpLnZhbHVlO1xuXHRjb25zdCBtZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lc3NhZ2UnKS52YWx1ZTtcblx0Y29uc3QgbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYW1lJykudmFsdWU7XG5cdGlmICh0aXRsZSA9PT0gJycgfHwgbWVzc2FnZSA9PT0gJycgfHwgbmFtZSA9PT0gJycpIHtcblx0XHRjb25zb2xlLmxvZygnc2llbWEnKTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGBtYWlsdG86cGF0cnlrLmthd2lha0BpY2xvdWQuY29tP3N1YmplY3Q9JHt0aXRsZX0mYm9keT0ke21lc3NhZ2V9LCBQb3pkcmF3aWFtIFxuXHRcdCR7bmFtZX1gO1xuXHR9XG59O1xuXG4vLyBzY3JvbGxcbmNvbnN0IHJldmFsU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXZhbC1zZWN0aW9uJyk7XG5cbmNvbnN0IGhhbmRsZUZpcnN0UmV2YWwgPSAoKSA9PiB7XG5cdGNvbnN0IHJldmFsU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXZhbC1zZWN0aW9uJyk7XG5cblx0aWYgKHJldmFsU2VjdGlvbi5vZmZzZXRUb3AgLSB3aW5kb3cuc2Nyb2xsWSA8IHdpbmRvdy5pbm5lckhlaWdodCAtIDE1MCkge1xuXHRcdHJldmFsU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdyZXZhbCcpO1xuXHRcdHNldFRpbWVvdXQod3JpdGluZ0FuaW1hdGlvbiwgNTAwKTtcblx0fVxufTtcbmNvbnN0IGhhbmRsZVNlY29uZFJldmFsID0gKCkgPT4ge1xuXHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRyZXZhbFNlY3Rpb25bMV0uY2xhc3NMaXN0LmFkZCgncmV2YWwnKTtcblx0fSwgMTAwMCk7XG59O1xuY29uc3QgaGFuZGxlUmV2YWwgPSAoKSA9PiB7XG5cdHJldmFsU2VjdGlvbi5mb3JFYWNoKChzZWMpID0+IHtcblx0XHRpZiAoc2VjLm9mZnNldFRvcCAtIHdpbmRvdy5zY3JvbGxZIDwgd2luZG93LmlubmVySGVpZ2h0IC0gMTUwKSB7XG5cdFx0XHRzZWMuY2xhc3NMaXN0LmFkZCgncmV2YWwnKTtcblx0XHR9XG5cdH0pO1xufTtcblxuLy8gdHlwaW5nXG5jb25zdCB0ZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnR5cGluZy10ZXh0Jyk7XG5jb25zdCB0eXBpbmdCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHlwaW5nLWJhcicpO1xubGV0IGlucHV0VmFsdWUgPSAnRnJvbnQgRW5kIERldmVsb3Blcic7XG5sZXQgdGltZW91dDtcbmxldCBpbmRleCA9IDE7XG5sZXQgYW5pU3BlZWQgPSA5MDtcblxuY29uc3Qgd3JpdGluZ0FuaW1hdGlvbiA9ICgpID0+IHtcblx0dGV4dC5pbm5lckhUTUwgPSBpbnB1dFZhbHVlLnNsaWNlKDAsIGluZGV4KTtcblx0aW5kZXgrKztcblx0aWYgKGluZGV4ID4gaW5wdXRWYWx1ZS5sZW5ndGgpIHJldHVybjtcblx0dGltZW91dCA9IHNldFRpbWVvdXQod3JpdGluZ0FuaW1hdGlvbiwgYW5pU3BlZWQpO1xufTtcblxuY29uc3QgYmFyQW5pbWF0aW9uID0gKCkgPT4ge1xuXHR0eXBpbmdCYXIuc3R5bGUub3BhY2l0eSA9IDA7XG5cdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdHR5cGluZ0Jhci5zdHlsZS5vcGFjaXR5ID0gMTtcblx0fSwgNTAwKTtcbn07XG5cbi8vIGJ1dHRvbiBlZmZcbmNvbnN0IGFuaW1hdGVkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFuaW1hdGVkLWJ0bicpO1xuXG5jb25zdCBlZmZlY3QgPSAoZSkgPT4ge1xuXHRjb25zdCByZWN0ID0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0Y29uc3QgeCA9IGUudGFyZ2V0Lm9mZnNldFdpZHRoIC0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCk7XG5cdGNvbnN0IHkgPSBlLnRhcmdldC5vZmZzZXRIZWlnaHQgLSAoZS5jbGllbnRZIC0gcmVjdC50b3ApO1xuXG5cdGUudGFyZ2V0LnN0eWxlLnNldFByb3BlcnR5KCctLW1vdXNlLXgnLCBgJHt4fXB4YCk7XG5cdGUudGFyZ2V0LnN0eWxlLnNldFByb3BlcnR5KCctLW1vdXNlLXknLCBgJHt5fXB4YCk7XG59O1xuXG5hbmltYXRlZEJ0bi5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBlZmZlY3QpKTtcblxuLy8gYW5pbWF0ZWQgaW1nXG5cbmNvbnN0IGltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmltYWdlJyk7XG5cbmNvbnN0IHJvdGF0aW5nSW1nID0gKGUpID0+IHtcblx0aWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncmVzZXQtcG9zJykpIHtcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyZXNldC1wb3MnKTtcblx0fVxuXG5cdGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FkZC1wb3MnKTtcblxuXHRsZXQgeDtcblx0bGV0IHk7XG5cdHggPSBlLm9mZnNldFg7XG5cdHkgPSBlLm9mZnNldFk7XG5cblx0Y29uc3QgbWlkZGxlWCA9IGUudGFyZ2V0Lm9mZnNldFdpZHRoIC8gMjtcblx0Y29uc3QgbWlkZGxlWSA9IGUudGFyZ2V0Lm9mZnNldEhlaWdodCAvIDI7XG5cblx0Y29uc3QgZmluYWxYID0gKG1pZGRsZVggLSB4KSAvIDEwO1xuXHRjb25zdCBmaW5hbFkgPSAobWlkZGxlWSAtIHkpIC8gMTA7XG5cblx0ZS50YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdHJhbnNmb3JtLXknLCBgJHtNYXRoLmZsb29yKGZpbmFsWCl9ZGVnYCk7XG5cdGUudGFyZ2V0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS14JywgYCR7TWF0aC5mbG9vcihmaW5hbFkpfWRlZ2ApO1xufTtcblxuaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgcm90YXRpbmdJbWcpO1xuaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoZSkgPT4ge1xuXHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdyZXNldC1wb3MnKTtcblx0ZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYWRkLXBvcycpO1xufSk7XG5cbnNldEludGVydmFsKGJhckFuaW1hdGlvbiwgMTAwMCk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVSZXZhbCk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGhhbmRsZUZpcnN0UmV2YWwpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBoYW5kbGVTZWNvbmRSZXZhbCk7XG5cbnNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZW5kTWFpbCk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgY3JlYXRlQWxsRG90cyk7XG5uZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbmV4dFNsaWRlKTtcbnByZXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwcmV2U2xpZGUpO1xuIl19
